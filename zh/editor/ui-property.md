# 属性面板

属性面板可以显示和编辑不同部件的属性。
当选中某一个部件时，属性面板会变成当前选中部件的属性。
其中包括：骨架，骨骼，插槽，插槽资源。


## 骨架属性
<img src='/ui/prop-armature.png' width=50%>

当什么都不选择时，属性面试显示为当前骨架的属性：
- 名字：当前骨架的名字，点击可以修改名字，骨架的名字不能有重名。
- 类型：骨架
- 帧率：该骨架的动画帧率
- 默认播放：在运行时创建骨架时，默认播放的动画名称。

## 骨骼属性
<img src='/ui/prop-bone.png' width=50%>

当选择一个骨骼时，属性面板显示骨骼的属性，
有三组
1. 显示
    - 名字：骨骼的名字，点击可以修改名字，骨骼的名字不能有重名。
    - 类型：骨骼
    - 长度：骨骼的长度，点击可以输入输入数字来修改骨骼的长度。或者上下拖动来修改骨骼长度。向上拖动是变小，向下拖动时变大。
    - 继承：
        -旋转：当不勾选时，父骨骼旋转时，该骨骼不会跟着旋转。
        -缩放：当不勾选时，父骨骼缩放时，该骨骼不会跟着缩放。
    - 骨骼颜色：修改骨骼颜色，暂时没用
2. 坐标变换
    - 位置，x方向和y方向的坐标（这里的坐标是相对于父骨骼的坐标，即父级坐标系）
    - 缩放，x方向和y方向的缩放，（这里的缩放是相对于父骨骼的缩放，即父级坐标系）
    - 旋转，水平朝右是0度，顺时针为正，逆时针为负，范围是 -180度到+180度。单位是度
3. 约束 列出该骨骼上所有的约束，目前只有ik，后续会增加其他类型的约束。
    - IK： ik约束。
        - 当该骨骼没有ik约束时，后面两个按钮可以创建
            - 按钮1：设置IK约束目标，点击后选择一个骨骼作为IK约束的目标。选择的骨骼不能是该骨骼的子骨骼。
            - 按钮2：在骨骼末端生成约束目标：点击后会自动在该骨骼的末端创建一个长度为0的新骨骼，并把这个新骨骼作为IK约束的目标。
        - 如果该骨骼有IK约束
            - 名称：IK约束的名称
            - 骨骼：被IK约束的骨骼
            - 目标：IK约束的目标骨骼
            - 弯曲：当被IK约束的骨骼有2个时，这两个骨骼弯曲的方向。
            - 权重：IK约束的权重，如果是1，则被IK约束的骨骼的旋转完全受IK影响。如果是0.则IK不起作用。如果是0和1之间，则IK和FK同时起作用。
            - 操作：删除按钮，可以删除该IK约束
<br>当选择两个骨骼时，属性面板只有两组：显示和IK约束
<br>当选择大于2个骨骼时，属性面板只有一组：显示

## 插槽属性
<img src='/ui/prop-slot.png' width=50%>

当选择一个插槽时，属性面板显示插槽的属性。
<br>插槽的属性有三组：显示，坐标变换，资源属性

1. 显示：
    - 名字： 插槽的名字，点击可以修改名字，插槽的名字不能有重名。
    - 类型：插槽
    - 颜色： 插槽的颜色，该颜色会作用在插槽资源上。
    - 混合： 当插槽的资源是可显示的资源时，该属性表示资源的渲染混合方式。
    - 不透明：当插槽的资源是可显示的资源时，表示资源的不透明度，范围从0到1，0表示完全透明。
    - 显示资源：当前插槽显示哪一个资源，一个插槽同时只能显示一个资源或者不显示任何资源。
2. 坐标变换
    - 位置，x方向和y方向的坐标（这里的坐标是相对于父骨骼的坐标，即父级坐标系）
    - 缩放，x方向和y方向的缩放，（这里的缩放是相对于父骨骼的缩放，即父级坐标系）
    - 旋转，水平朝右是0度，顺时针为正，逆时针为负，范围是 -180度到+180度。单位是度
3. 资源属性：不同的资源有不同的资源属性。具体哪种资源有哪些属性，请往下看。

## 插槽资源属性
不同的资源有不同的资源属性
### 图片属性
<img src='/ui/prop-image.png' width=50%>

- 名称：资源的名称，一般是在资源库中的名称，不可修改。
- 类型：图片
- 资源：该资源在库中的资源，后面的按钮是替换按钮，点击后可以替换成其他的图片。
- 转成网格： 把图片变成网格类型的资源。

### 网格属性
<img src='/ui/prop-mesh.png' width=50%>

当把图片变成网格时，会显示网格属性

- 名称：资源的名称，一般是在资源库中的名称，不可修改。
- 类型：网格
- 资源：该资源在库中的资源，后面的按钮是替换按钮，点击后可以替换成其他的图片。
- 转成网格： 可以把网格再转成图片资源。
- 关联网格：用来创建一个[关联网格](./link-mesh)
- 网格编辑：点击后会启动网格编辑工具，在舞台上编辑网格的点，三角形，uv 等属性。
    - 重置网格：使网格上的所有点恢复初始的状态
- 绑定工具：给网格绑定骨骼的工具。
    - 添加骨骼：给网格绑定骨骼，点击后，在舞台上选择需要绑定的骨骼。选择完毕后，点击鼠标右键完成选择。
    - 自动权重：可以自动给绑定了骨骼的网格点自动分配权重。
- 权重骨骼表：当给网格绑定了骨骼后，这里显示都绑定了哪些骨骼。如果选中网格上的点，这里会显示骨骼所占的权重。并可以手动调节权重。
- 网格变形：给网格添加网格变形器。注意网格绑定了骨骼后就不能添加网格变形器了。

### 关联网格属性
<img src='/ui/prop-linkMesh.png' width=50%>

- 名称：资源的名称，一般是在资源库中的名称，不可修改。
- 类型：关联网格
- 资源：该资源在库中的资源，后面的按钮是替换按钮，点击后可以替换成其他的图片。
- 原网格：该关联网格关联的那个网格的名字。
- 继承 FFD：关联网格是否继承原网格的自由变形动画。

### 边界框属性
<img src='/ui/prop-bbox.png' width=50%>

- 名称：资源的名称，一般是在资源库中的名称，不可修改。
- 类型：包围盒
- 边界框编辑：编辑按钮，当点击时启动边界框编辑工具，在舞台上编辑边界框。

### 子骨架属性
<img src='/ui/prop-sub-armature.png' width=50%>

- 名称：资源的名称，子骨架的名称
- 类型：骨架
- 播放动画：在runtime中子骨架创建后默认播放的动画名称。